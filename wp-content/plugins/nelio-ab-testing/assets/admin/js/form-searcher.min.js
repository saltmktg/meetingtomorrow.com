var NelioABFormSearcher={formatSearchResult:function(d,b,e,a){var c=[];window.Select2.util.markMatch(d.title,e.term,c,a);var f=c.join("");return'<div class="result-content"><div class="result-image">'+d.thumbnail+'</div><div class="result-item"><div class="result-title">'+f+'</div><div class="result-type">'+d.type+"</div></div></div>"},formatSelectionResult:function(b,a){a.data("post-id",b.id);return b.title},buildSearcher:function(c,b,a){c.select2({ajax:{url:ajaxurl,dataType:"json",type:"POST",data:function(e){var d={term:e,action:"nelioab_form_searcher",type:b};return d},results:function(d){if(a!==undefined){d=a(c,d)}c.data("last-search",d);return{results:d}}},formatResult:NelioABFormSearcher.formatSearchResult,formatSelection:NelioABFormSearcher.formatSelectionResult,dropdownAutoWidth:true,dropdownCssClass:"bigdrop",escapeMarkup:function(d){return d}});NelioABFormSearcher.setPlaceholder(c)},getInfo:function(b){var a=b.parent().find(".select2-chosen");if(a.hasClass("select2-default")){return false}return{value:b.attr("value"),label:a.html()}},setDefault:function(b,a){jQuery.ajax({url:ajaxurl,dataType:"json",type:"POST",data:{action:"nelioab_form_searcher",type:a,default_id:b.attr("value")}}).done(function(e){var d=e[0];var c=[];c.push(e[0]);b.data("last-search",c);NelioABFormSearcher.doSetDefault(b,d.title,d.id);b.trigger("default-value-loaded")})},doSetDefault:function(c,b,d){var a=c.parent().find(".select2-chosen");a.html(b);a.parent().removeClass("select2-default");c.attr("value",d)},setPlaceholder:function(b){var c=b.data("placeholder");var a=b.parent().find(".select2-chosen");a.html(c);a.parent().addClass("select2-default")}};